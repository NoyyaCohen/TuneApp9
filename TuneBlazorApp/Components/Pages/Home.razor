@page "/"
@using Models
@inject NavigationManager navigationManager
@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@inject ProtectedSessionStorage MySession

@* <PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app. *@

    <!-- Header with buttons -->
    <div class="header">
        <div class="cta-buttons">
            <a href="SignUp" class="cta-btn primary-btn">Sign Up</a>
            <a href="Login" class="cta-btn secondary-btn">Log In</a>
        </div>
    </div>

    <section class="hero">
        <div class="fire-circles">
            <div class="circle circle-1"></div>
            <div class="circle circle-2"></div>
            <div class="circle circle-3"></div>
        </div>
        
        <div class="home-content">
            <h1 class="logo-large">TuneApp</h1>
            <p class="tagline">Where Music Comes to Life</p>
            
            <p class="description">
            Join our music community and discover new artists, listen to music according to your personal taste and preferences, share your personal music and stay in touch with your favorite artists through messages and events.
            </p>
            
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">🎵</div>
                    <h3 class="feature-title">Discover</h3>
                    <p class="feature-desc">Explore thousands of artists and tracks that match your unique taste in music.</p>
                </div>
                
                <div class="feature">
                    <div class="feature-icon">🎧</div>
                    <h3 class="feature-title">Create</h3>
                    <p class="feature-desc">Build playlists for every mood, occasion, or genre that speaks to you.</p>
                </div>
                
                <div class="feature">
                    <div class="feature-icon">🔥</div>
                    <h3 class="feature-title">Connect</h3>
                    <p class="feature-desc">Share your musical journey and connect with fans and artists worldwide.</p>
                </div>
            </div>
        </div>
    </section>

@code
{
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        var listener1 = await MySession.GetAsync<Listener>("ListenerLogin");
        var artist1 = await MySession.GetAsync<Artist>("ArtistLogin");
        if (listener1.Success || artist1.Success)
        {
            navigationManager.NavigateTo("Prime");
        }
    }
}